/***********/
/* SELECT2 */
/***********/

.input-group > .form-select, .input-group .select2-container--bootstrap-5 .select2-selection--single {
    /* just to change the color of the arrow to the be same as the border (the stroke color) */
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%236c757d' stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
}

.select2-container--bootstrap-5 .select2-dropdown .select2-search {
    padding: var(--bs-form-control-spacer-y) var(--bs-form-control-spacer-x);
}

.select2-container--bootstrap-5 .select2-selection,
.select2-container--bootstrap-5 .select2-dropdown,
.select2-container--bootstrap-5 .select2-dropdown .select2-search .select2-search__field {
    background-color: var(--bs-form-control-bg);
    color: var(--bs-form-control-color);

    font-size: var(--bs-form-control-font-size);
    line-height: var(--bs-form-control-line-height);

    border-style: solid;
    border-width: var(--bs-form-control-border-width);
    border-color: var(--bs-form-control-border-color);
    border-radius: var(--bs-form-control-border-radius);

    padding: var(--bs-form-control-spacer-y) var(--bs-form-control-spacer-x);
    min-height: calc(var(--bs-form-control-line-height) * 1em + 2 * var(--bs-form-control-spacer-y) + 2 * var(--bs-form-control-border-width));
}

.select2-container--bootstrap-5 .select2-dropdown .select2-results__options .select2-results__option.select2-results__option--selected, .select2-container--bootstrap-5 .select2-dropdown .select2-results__options .select2-results__option[aria-selected="true"]:not(.select2-results__option--highlighted) {
    background-color: var(--bs-primary);
}

.select2-container--bootstrap-5 .select2-dropdown .select2-results__options .select2-results__option.select2-results__option--highlighted {
    background-color: var(--bs-form-control-bg);
    color: var(--bs-form-control-color);
}

.select2-container--bootstrap-5 .select2-selection--single .select2-selection__rendered {
    color: var(--bs-form-control-color);
}

.select2-container--bootstrap-5 .select2-dropdown.select2-dropdown-sm {
    --bs-form-control-spacer-x: .5rem;
    --bs-form-control-spacer-y: .25rem;
    --bs-form-control-font-size: .875rem;
    --bs-form-control-border-radius: .25rem;
}


/**************/
/* FLATPICKER */
/**************/
/* at first the default colors */
.flatpickr-calendar {
    --fpc-bg: #fff;
    --fpc-border-color: #e6e6e6;
    --fpc-box-shadow: 1px 0 0 var(--fpc-border-color), -1px 0 0 var(--fpc-border-color), 0 1px 0 var(--fpc-border-color), 0 -1px 0 var(--fpc-border-color), 0 3px 13px rgba(0, 0, 0, 0.08);

    --fpc-number-arrow-color: rgba(0,0,0,0.9);
    --fpc-number-hover-bg: rgba(0,0,0,0.05);

    --fpc-day-color: #393939;
    --fpc-day-disabled-color: rgba(57, 57, 57, 0.3);
    --fpc-day-selected-color: #fff;
    --fpc-day-selected-bg: #569ff7;

    --fpc-weekday-color: rgba(0,0,0,0.54);
    --fpc-month-color: rgba(0,0,0,0.9);
    --fpc-month-arrow-color: rgba(0,0,0,0.9);
    --fpc-month-arrow-hover-color: #959ea9;
    --fpc-year-arrow-color: rgba(0,0,0,0.9);
    --fpc-month-year-hover-bg: rgba(0,0,0,0.05);

    --fpc-time-color: #393939;
    --fpc-time-hover-bg: #eee;

    background: var(--fpc-bg);
    box-shadow: var(--fpc-box-shadow);

    &.arrowTop {
        &::before {
            border-bottom-color: var(--fpc-border-color);
        }

        &::after {
            border-bottom-color: var(--fpc-bg);
        }
    }
    .numInputWrapper {
        span { border: none !important; } /* fuck it */
        &:hover {
            background: var(--fpc-number-hover-bg);
        }
        span.arrowUp::after {
            border-bottom-color: var(--fpc-number-arrow-color)
        }
        span.arrowDown::after {
            border-top-color: var(--fpc-number-arrow-color)
        }
    }

    .flatpickr-day {
        color: var(--fpc-day-color);

        &.inRange, &.prevMonthDay.inRange, &.nextMonthDay.inRange, &.today.inRange, &.prevMonthDay.today.inRange, &.nextMonthDay.today.inRange, &:hover, &.prevMonthDay:hover, &.nextMonthDay:hover, &:focus, &.prevMonthDay:focus, &.nextMonthDay:focus {
            background: var(--fpc-bg);
            border-color: var(--fpc-border-color);
        }

        &.selected, &.startRange, &.endRange, &.selected.inRange, &.startRange.inRange, &.endRange.inRange, &.selected:focus, &.startRange:focus, &.endRange:focus, &.selected:hover, &.startRange:hover, &.endRange:hover, &.selected.prevMonthDay, &.startRange.prevMonthDay, &.endRange.prevMonthDay, &.selected.nextMonthDay, &.startRange.nextMonthDay, &.endRange.nextMonthDay {
            background: var(--fpc-day-selected-bg);
            border-color: var(--fpc-day-selected-bg);
            color: var(--fpc-day-selected-color);
        }
        &.flatpickr-disabled, &.flatpickr-disabled:hover, &.prevMonthDay, &.nextMonthDay, &.notAllowed, &.notAllowed.prevMonthDay, &.notAllowed.nextMonthDay {
            color: var(--fpc-day-disabled-color);
        }
    }

    .flatpickr-weekday {
        color: var(--fpc-weekday-color);
    }
    .flatpickr-months {
        .flatpickr-month {
            color: var(--fpc-month-color);
        }
        .flatpickr-prev-month, .flatpickr-next-month {
            color: var(--fpc-month-arrow-color);
            fill: var(--fpc-month-arrow-color);
            &:hover {
                color: var(--fpc-month-arrow-hover-color);
                svg {
                    fill: var(--fpc-month-arrow-hover-color);
                }
            }
        }
        .flatpickr-current-month {
            .flatpickr-monthDropdown-months, input.cur-year {
                color: inherit;
                &:hover {
                    background: var(--fpc-month-year-hover-bg);
                }
            }
        }
    }
    .flatpickr-time {
        input, .flatpickr-am-pm {
            color: var(--fpc-time-color);
            &:hover, &:focus {
                background: var(--fpc-time-hover-bg);
            }
        }
    }
    .flatpickr-time-separator {
            color: var(--fpc-time-color);
    }
}
/* then override to match bootstrap */
.flatpickr-calendar {
    --fpc-color: #212529;
    --fpc-bg: #fff;
    --fpc-border-color: rgba(0, 0, 0, 0.175);

    --fpc-number-arrow-color: var(--fpc-color);
    --fpc-number-hover-bg: transparent;

    --fpc-day-color: var(--fpc-color);
    --fpc-day-disabled-color: var(--bs-muted-color);
    --fpc-day-selected-color: var(--bs-color);
    --fpc-day-selected-bg: var(--bs-primary);

    --fpc-weekday-color: var(--fpc-color);
    --fpc-month-color: var(--fpc-color);
    --fpc-month-arrow-color: var(--fpc-color);
    --fpc-month-arrow-hover-color: inherit;
    --fpc-year-arrow-color: var(--fpc-color);
    --fpc-month-year-hover-bg: transparent;

    --fpc-time-color: var(--fpc-color);
    --fpc-time-hover-bg: transparent;
}
